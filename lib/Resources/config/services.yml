imports:
    - { resource: services/settings.yaml }
    - { resource: services/form.yaml }
    - { resource: services/maintenance.yaml }
    - { resource: services/theme.yaml }
    - { resource: services/menu.yaml }
    - { resource: services/i18n.yaml }
    - { resource: services/doctrine_extensions.yaml }

parameters:
    menu.config_file: "%kernel.root_dir%/../config/packages/vs_application.yaml"
    vs_app.settings.site_id: null
    vs_application.supress_pdo_exception: false

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: true
    
    VS\ApplicationBundle\Controller\AuthController:
        tags: ['controller.service_arguments']
        autowire: false
            
    ##############################################################
    # Console commands
    ##############################################################
    vs_app.command.maintenance:
        class: VS\ApplicationBundle\Command\MaintenanceModeCommand
        tags:
            - 'console.command'
            
    vs_app.command.bumpversion:
        class: VS\ApplicationBundle\Command\BumpVersionCommand
        tags:
            - 'console.command'
    vs_app.command.assets.sources:
        class: VS\ApplicationBundle\Command\AssetsSourcesCommand
        arguments:
            - '@filesystem'
        tags:
            - 'console.command'
    vs_app.command.assets.dependencies:
        class: VS\ApplicationBundle\Command\CheckAssetDependenciesCommand
        arguments:
            - '@filesystem'
        tags:
            - 'console.command'
